# MPD Configuration for Fedora - Lossless Audio Setup

# Files and directories
music_directory         "/run/media/zed/Backup/music/"
playlist_directory      "~/.config/mpd/playlists"
db_file                 "~/.config/mpd/database"
log_file                "~/.config/mpd/log"
pid_file                "~/.config/mpd/pid"
state_file              "~/.config/mpd/state"
sticker_file            "~/.config/mpd/sticker.sql"

# General settings
bind_to_address         "localhost"
port                    "6600"
auto_update             "yes"
auto_update_depth       "3"

# Disable replaygain for purist lossless
replaygain              "off"

# Buffer settings for smooth lossless playback
audio_buffer_size       "4096"

# ============================================
# AUDIO OUTPUTS - PipeWire (Fedora default)
# ============================================

# PipeWire - handles all your devices automatically
audio_output {
    type                "pipewire"
    name                "PipeWire Output"
}

# Visualization data (for ncmpcpp visualizer, etc.)
audio_output {
    type                "fifo"
    name                "Visualizer"
    path                "/tmp/mpd.fifo"
    format              "44100:16:2"
}

# Decoder settings
decoder {
    plugin              "flac"
    enabled             "yes"
}

decoder {
    plugin              "ffmpeg"
    enabled             "yes"
}

# Character encoding
filesystem_charset      "UTF-8"
log_level               "default"
